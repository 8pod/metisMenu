{"version":3,"file":"metisMenu.js","sources":["../src/util.js","../src/index.js"],"sourcesContent":["import $ from 'jquery';\n\nconst Util = (($) => { // eslint-disable-line no-shadow\n  const TRANSITION_END = 'transitionend';\n\n  const Util = { // eslint-disable-line no-shadow\n    TRANSITION_END: 'mmTransitionEnd',\n\n    triggerTransitionEnd(element) {\n      $(element).trigger(TRANSITION_END);\n    },\n\n    supportsTransitionEnd() {\n      return Boolean(TRANSITION_END);\n    },\n  };\n\n  function getSpecialTransitionEndEvent() {\n    return {\n      bindType: TRANSITION_END,\n      delegateType: TRANSITION_END,\n      handle(event) {\n        if ($(event.target).is(this)) {\n          return event\n            .handleObj\n            .handler\n            .apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n        return undefined;\n      },\n    };\n  }\n\n  function transitionEndEmulator(duration) {\n    let called = false;\n\n    $(this).one(Util.TRANSITION_END, () => {\n      called = true;\n    });\n\n    setTimeout(() => {\n      if (!called) {\n        Util.triggerTransitionEnd(this);\n      }\n    }, duration);\n\n    return this;\n  }\n\n  function setTransitionEndSupport() {\n    $.fn.mmEmulateTransitionEnd = transitionEndEmulator; // eslint-disable-line no-param-reassign\n    // eslint-disable-next-line no-param-reassign\n    $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();\n  }\n\n  setTransitionEndSupport();\n\n  return Util;\n})($);\n\nexport default Util;\n","import $ from 'jquery';\nimport Util from './util';\n\nconst MetisMenu = (($) => { // eslint-disable-line no-shadow\n  const NAME = 'metisMenu';\n  const DATA_KEY = 'metisMenu';\n  const EVENT_KEY = `.${DATA_KEY}`;\n  const DATA_API_KEY = '.data-api';\n  const JQUERY_NO_CONFLICT = $.fn[NAME];\n  const TRANSITION_DURATION = 350;\n\n  const Default = {\n    toggle: true,\n    preventDefault: true,\n    activeClass: 'active',\n    collapseClass: 'collapse',\n    collapseInClass: 'in',\n    collapsingClass: 'collapsing',\n    triggerElement: 'a',\n    parentTrigger: 'li',\n    subMenu: 'ul',\n  };\n\n  const Event = {\n    SHOW: `show${EVENT_KEY}`,\n    SHOWN: `shown${EVENT_KEY}`,\n    HIDE: `hide${EVENT_KEY}`,\n    HIDDEN: `hidden${EVENT_KEY}`,\n    CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n  };\n\n  class MetisMenu { // eslint-disable-line no-shadow\n    constructor(element, config) {\n      this.element = element;\n      this.config = { ...Default, ...config };\n      this.transitioning = null;\n\n      this.init();\n    }\n    init() {\n      const self = this;\n      const conf = this.config;\n      $(this.element)\n        .find(`${conf.parentTrigger}.${conf.activeClass}`)\n        .has(conf.subMenu)\n        .children(conf.subMenu)\n        .addClass(`${conf.collapseClass} ${conf.collapseInClass}`);\n\n      $(this.element)\n        .find(conf.parentTrigger)\n        .not(`.${conf.activeClass}`)\n        .has(conf.subMenu)\n        .children(conf.subMenu)\n        .addClass(conf.collapseClass);\n\n      $(this.element)\n        .find(conf.parentTrigger)\n        .has(conf.subMenu)\n        .children(conf.triggerElement)\n        .on(Event.CLICK_DATA_API, function (e) { // eslint-disable-line func-names\n          const eTar = $(this);\n          const paRent = eTar.parent(conf.parentTrigger);\n          const sibLings = paRent\n            .siblings(conf.parentTrigger)\n            .children(conf.triggerElement);\n          const List = paRent.children(conf.subMenu);\n          if (conf.preventDefault) {\n            e.preventDefault();\n          }\n          if (eTar.attr('aria-disabled') === 'true') {\n            return;\n          }\n          if (paRent.hasClass(conf.activeClass)) {\n            eTar.attr('aria-expanded', false);\n            self.hide(List);\n          } else {\n            self.show(List);\n            eTar.attr('aria-expanded', true);\n            if (conf.toggle) {\n              sibLings.attr('aria-expanded', false);\n            }\n          }\n\n          if (conf.onTransitionStart) {\n            conf.onTransitionStart(e);\n          }\n        });\n    }\n\n    show(element) {\n      if (this.transitioning ||\n        $(element).hasClass(this.config.collapsingClass)) {\n        return;\n      }\n      const elem = $(element);\n\n      const startEvent = $.Event(Event.SHOW);\n      elem.trigger(startEvent);\n\n      if (startEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      elem\n        .parent(this.config.parentTrigger)\n        .addClass(this.config.activeClass);\n\n\n      if (this.config.toggle) {\n        this\n          .hide(elem\n            .parent(this.config.parentTrigger)\n            .siblings()\n            .children(`${this.config.subMenu}.${this.config.collapseInClass}`));\n      }\n\n      elem\n        .removeClass(this.config.collapseClass)\n        .addClass(this.config.collapsingClass)\n        .height(0);\n\n      this.setTransitioning(true);\n\n      const complete = () => {\n        // check if disposed\n        if (!this.config || !this.element) {\n          return;\n        }\n        elem\n          .removeClass(this.config.collapsingClass)\n          .addClass(`${this.config.collapseClass} ${this.config.collapseInClass}`)\n          .height('');\n\n        this.setTransitioning(false);\n\n        elem.trigger(Event.SHOWN);\n      };\n\n      elem\n        .height(element[0].scrollHeight)\n        .one(Util.TRANSITION_END, complete)\n        .mmEmulateTransitionEnd(TRANSITION_DURATION);\n    }\n\n    hide(element) {\n      if (this.transitioning || !$(element).hasClass(this.config.collapseInClass)) {\n        return;\n      }\n\n      const elem = $(element);\n\n      const startEvent = $.Event(Event.HIDE);\n      elem.trigger(startEvent);\n\n      if (startEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      elem.parent(this.config.parentTrigger).removeClass(this.config.activeClass);\n      // eslint-disable-next-line no-unused-expressions\n      elem.height(elem.height())[0].offsetHeight;\n\n      elem\n        .addClass(this.config.collapsingClass)\n        .removeClass(this.config.collapseClass)\n        .removeClass(this.config.collapseInClass);\n\n      this.setTransitioning(true);\n\n      const complete = () => {\n        // check if disposed\n        if (!this.config || !this.element) {\n          return;\n        }\n        if (this.transitioning && this.config.onTransitionEnd) {\n          this.config.onTransitionEnd();\n        }\n\n        this.setTransitioning(false);\n        elem.trigger(Event.HIDDEN);\n\n        elem\n          .removeClass(this.config.collapsingClass)\n          .addClass(this.config.collapseClass);\n      };\n\n      if (elem.height() === 0 || elem.css('display') === 'none') {\n        complete();\n      } else {\n        elem\n          .height(0)\n          .one(Util.TRANSITION_END, complete)\n          .mmEmulateTransitionEnd(TRANSITION_DURATION);\n      }\n    }\n\n    setTransitioning(isTransitioning) {\n      this.transitioning = isTransitioning;\n    }\n\n    dispose() {\n      $.removeData(this.element, DATA_KEY);\n\n      $(this.element)\n        .find(this.config.parentTrigger)\n        .has(this.config.subMenu)\n        .children(this.config.triggerElement)\n        .off('click');\n\n      this.transitioning = null;\n      this.config = null;\n      this.element = null;\n    }\n\n\n    static jQueryInterface(config) {\n      // eslint-disable-next-line func-names\n      return this.each(function () {\n        const $this = $(this);\n        let data = $this.data(DATA_KEY);\n        const conf = {\n          ...Default,\n          ...$this.data(),\n          ...typeof config === 'object' && config ? config : {},\n        };\n\n        if (!data) {\n          data = new MetisMenu(this, conf);\n          $this.data(DATA_KEY, data);\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`);\n          }\n          data[config]();\n        }\n      });\n    }\n  }\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = MetisMenu.jQueryInterface; // eslint-disable-line no-param-reassign\n  $.fn[NAME].Constructor = MetisMenu; // eslint-disable-line no-param-reassign\n  $.fn[NAME].noConflict = () => { // eslint-disable-line no-param-reassign\n    $.fn[NAME] = JQUERY_NO_CONFLICT; // eslint-disable-line no-param-reassign\n    return MetisMenu.jQueryInterface;\n  };\n  return MetisMenu;\n})($);\n\nexport default MetisMenu;\n"],"names":["Util","$","TRANSITION_END","triggerTransitionEnd","element","trigger","supportsTransitionEnd","Boolean","getSpecialTransitionEndEvent","bindType","delegateType","handle","event","target","is","handleObj","handler","apply","arguments","undefined","transitionEndEmulator","duration","called","one","setTimeout","setTransitionEndSupport","fn","mmEmulateTransitionEnd","special","MetisMenu","NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","TRANSITION_DURATION","Default","toggle","preventDefault","activeClass","collapseClass","collapseInClass","collapsingClass","triggerElement","parentTrigger","subMenu","Event","SHOW","SHOWN","HIDE","HIDDEN","CLICK_DATA_API","config","transitioning","init","self","conf","find","has","children","addClass","not","on","e","eTar","paRent","parent","sibLings","siblings","List","attr","hasClass","hide","show","onTransitionStart","elem","startEvent","isDefaultPrevented","removeClass","height","setTransitioning","complete","scrollHeight","offsetHeight","onTransitionEnd","css","isTransitioning","dispose","removeData","off","jQueryInterface","each","$this","data","Error","Constructor","noConflict"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,IAAMA,IAAI,GAAI,UAACC,IAAD,EAAO;EAAE;EACrB,MAAMC,cAAc,GAAG,eAAvB;EAEA,MAAMF,IAAI,GAAG;EAAE;EACbE,IAAAA,cAAc,EAAE,iBADL;EAGXC,IAAAA,oBAHW,gCAGUC,OAHV,EAGmB;EAC5BH,MAAAA,IAAC,CAACG,OAAD,CAAD,CAAWC,OAAX,CAAmBH,cAAnB;EACD,KALU;EAOXI,IAAAA,qBAPW,mCAOa;EACtB,aAAOC,OAAO,CAACL,cAAD,CAAd;EACD;EATU,GAAb;;EAYA,WAASM,4BAAT,GAAwC;EACtC,WAAO;EACLC,MAAAA,QAAQ,EAAEP,cADL;EAELQ,MAAAA,YAAY,EAAER,cAFT;EAGLS,MAAAA,MAHK,kBAGEC,KAHF,EAGS;EACZ,YAAIX,IAAC,CAACW,KAAK,CAACC,MAAP,CAAD,CAAgBC,EAAhB,CAAmB,IAAnB,CAAJ,EAA8B;EAC5B,iBAAOF,KAAK,CACTG,SADI,CAEJC,OAFI,CAGJC,KAHI,CAGE,IAHF,EAGQC,SAHR,CAAP,CAD4B;EAK7B;;EACD,eAAOC,SAAP;EACD;EAXI,KAAP;EAaD;;EAED,WAASC,qBAAT,CAA+BC,QAA/B,EAAyC;EAAA;;EACvC,QAAIC,MAAM,GAAG,KAAb;EAEArB,IAAAA,IAAC,CAAC,IAAD,CAAD,CAAQsB,GAAR,CAAYvB,IAAI,CAACE,cAAjB,EAAiC,YAAM;EACrCoB,MAAAA,MAAM,GAAG,IAAT;EACD,KAFD;EAIAE,IAAAA,UAAU,CAAC,YAAM;EACf,UAAI,CAACF,MAAL,EAAa;EACXtB,QAAAA,IAAI,CAACG,oBAAL,CAA0B,KAA1B;EACD;EACF,KAJS,EAIPkB,QAJO,CAAV;EAMA,WAAO,IAAP;EACD;;EAED,WAASI,uBAAT,GAAmC;EACjCxB,IAAAA,IAAC,CAACyB,EAAF,CAAKC,sBAAL,GAA8BP,qBAA9B,CADiC;EAEjC;;EACAnB,IAAAA,IAAC,CAACW,KAAF,CAAQgB,OAAR,CAAgB5B,IAAI,CAACE,cAArB,IAAuCM,4BAA4B,EAAnE;EACD;;EAEDiB,EAAAA,uBAAuB;EAEvB,SAAOzB,IAAP;EACD,CAxDY,CAwDVC,CAxDU,CAAb;;ECCA,IAAM4B,SAAS,GAAI,UAAC5B,IAAD,EAAO;EAAE;EAC1B,MAAM6B,IAAI,GAAG,WAAb;EACA,MAAMC,QAAQ,GAAG,WAAjB;EACA,MAAMC,SAAS,SAAOD,QAAtB;EACA,MAAME,YAAY,GAAG,WAArB;EACA,MAAMC,kBAAkB,GAAGjC,IAAC,CAACyB,EAAF,CAAKI,IAAL,CAA3B;EACA,MAAMK,mBAAmB,GAAG,GAA5B;EAEA,MAAMC,OAAO,GAAG;EACdC,IAAAA,MAAM,EAAE,IADM;EAEdC,IAAAA,cAAc,EAAE,IAFF;EAGdC,IAAAA,WAAW,EAAE,QAHC;EAIdC,IAAAA,aAAa,EAAE,UAJD;EAKdC,IAAAA,eAAe,EAAE,IALH;EAMdC,IAAAA,eAAe,EAAE,YANH;EAOdC,IAAAA,cAAc,EAAE,GAPF;EAQdC,IAAAA,aAAa,EAAE,IARD;EASdC,IAAAA,OAAO,EAAE;EATK,GAAhB;EAYA,MAAMC,KAAK,GAAG;EACZC,IAAAA,IAAI,WAASf,SADD;EAEZgB,IAAAA,KAAK,YAAUhB,SAFH;EAGZiB,IAAAA,IAAI,WAASjB,SAHD;EAIZkB,IAAAA,MAAM,aAAWlB,SAJL;EAKZmB,IAAAA,cAAc,YAAUnB,SAAV,GAAsBC;EALxB,GAAd;;EApBwB,MA4BlBJ,SA5BkB;EAAA;EAAA;EA4BN;EAChB,uBAAYzB,OAAZ,EAAqBgD,MAArB,EAA6B;EAC3B,WAAKhD,OAAL,GAAeA,OAAf;EACA,WAAKgD,MAAL,qBAAmBhB,OAAnB,EAA+BgB,MAA/B;EACA,WAAKC,aAAL,GAAqB,IAArB;EAEA,WAAKC,IAAL;EACD;;EAnCqB;;EAAA,WAoCtBA,IApCsB,mBAoCf;EACL,UAAMC,IAAI,GAAG,IAAb;EACA,UAAMC,IAAI,GAAG,KAAKJ,MAAlB;EACAnD,MAAAA,IAAC,CAAC,KAAKG,OAAN,CAAD,CACGqD,IADH,CACWD,IAAI,CAACZ,aADhB,SACiCY,IAAI,CAACjB,WADtC,EAEGmB,GAFH,CAEOF,IAAI,CAACX,OAFZ,EAGGc,QAHH,CAGYH,IAAI,CAACX,OAHjB,EAIGe,QAJH,CAIeJ,IAAI,CAAChB,aAJpB,SAIqCgB,IAAI,CAACf,eAJ1C;EAMAxC,MAAAA,IAAC,CAAC,KAAKG,OAAN,CAAD,CACGqD,IADH,CACQD,IAAI,CAACZ,aADb,EAEGiB,GAFH,OAEWL,IAAI,CAACjB,WAFhB,EAGGmB,GAHH,CAGOF,IAAI,CAACX,OAHZ,EAIGc,QAJH,CAIYH,IAAI,CAACX,OAJjB,EAKGe,QALH,CAKYJ,IAAI,CAAChB,aALjB;EAOAvC,MAAAA,IAAC,CAAC,KAAKG,OAAN,CAAD,CACGqD,IADH,CACQD,IAAI,CAACZ,aADb,EAEGc,GAFH,CAEOF,IAAI,CAACX,OAFZ,EAGGc,QAHH,CAGYH,IAAI,CAACb,cAHjB,EAIGmB,EAJH,CAIMhB,KAAK,CAACK,cAJZ,EAI4B,UAAUY,CAAV,EAAa;EAAE;EACvC,YAAMC,IAAI,GAAG/D,IAAC,CAAC,IAAD,CAAd;EACA,YAAMgE,MAAM,GAAGD,IAAI,CAACE,MAAL,CAAYV,IAAI,CAACZ,aAAjB,CAAf;EACA,YAAMuB,QAAQ,GAAGF,MAAM,CACpBG,QADc,CACLZ,IAAI,CAACZ,aADA,EAEde,QAFc,CAELH,IAAI,CAACb,cAFA,CAAjB;EAGA,YAAM0B,IAAI,GAAGJ,MAAM,CAACN,QAAP,CAAgBH,IAAI,CAACX,OAArB,CAAb;;EACA,YAAIW,IAAI,CAAClB,cAAT,EAAyB;EACvByB,UAAAA,CAAC,CAACzB,cAAF;EACD;;EACD,YAAI0B,IAAI,CAACM,IAAL,CAAU,eAAV,MAA+B,MAAnC,EAA2C;EACzC;EACD;;EACD,YAAIL,MAAM,CAACM,QAAP,CAAgBf,IAAI,CAACjB,WAArB,CAAJ,EAAuC;EACrCyB,UAAAA,IAAI,CAACM,IAAL,CAAU,eAAV,EAA2B,KAA3B;EACAf,UAAAA,IAAI,CAACiB,IAAL,CAAUH,IAAV;EACD,SAHD,MAGO;EACLd,UAAAA,IAAI,CAACkB,IAAL,CAAUJ,IAAV;EACAL,UAAAA,IAAI,CAACM,IAAL,CAAU,eAAV,EAA2B,IAA3B;;EACA,cAAId,IAAI,CAACnB,MAAT,EAAiB;EACf8B,YAAAA,QAAQ,CAACG,IAAT,CAAc,eAAd,EAA+B,KAA/B;EACD;EACF;;EAED,YAAId,IAAI,CAACkB,iBAAT,EAA4B;EAC1BlB,UAAAA,IAAI,CAACkB,iBAAL,CAAuBX,CAAvB;EACD;EACF,OA/BH;EAgCD,KApFqB;;EAAA,WAsFtBU,IAtFsB,iBAsFjBrE,OAtFiB,EAsFR;EAAA;;EACZ,UAAI,KAAKiD,aAAL,IACFpD,IAAC,CAACG,OAAD,CAAD,CAAWmE,QAAX,CAAoB,KAAKnB,MAAL,CAAYV,eAAhC,CADF,EACoD;EAClD;EACD;;EACD,UAAMiC,IAAI,GAAG1E,IAAC,CAACG,OAAD,CAAd;EAEA,UAAMwE,UAAU,GAAG3E,IAAC,CAAC6C,KAAF,CAAQA,KAAK,CAACC,IAAd,CAAnB;EACA4B,MAAAA,IAAI,CAACtE,OAAL,CAAauE,UAAb;;EAEA,UAAIA,UAAU,CAACC,kBAAX,EAAJ,EAAqC;EACnC;EACD;;EAEDF,MAAAA,IAAI,CACDT,MADH,CACU,KAAKd,MAAL,CAAYR,aADtB,EAEGgB,QAFH,CAEY,KAAKR,MAAL,CAAYb,WAFxB;;EAKA,UAAI,KAAKa,MAAL,CAAYf,MAAhB,EAAwB;EACtB,aACGmC,IADH,CACQG,IAAI,CACPT,MADG,CACI,KAAKd,MAAL,CAAYR,aADhB,EAEHwB,QAFG,GAGHT,QAHG,CAGS,KAAKP,MAAL,CAAYP,OAHrB,SAGgC,KAAKO,MAAL,CAAYX,eAH5C,CADR;EAKD;;EAEDkC,MAAAA,IAAI,CACDG,WADH,CACe,KAAK1B,MAAL,CAAYZ,aAD3B,EAEGoB,QAFH,CAEY,KAAKR,MAAL,CAAYV,eAFxB,EAGGqC,MAHH,CAGU,CAHV;EAKA,WAAKC,gBAAL,CAAsB,IAAtB;;EAEA,UAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACrB;EACA,YAAI,CAAC,KAAI,CAAC7B,MAAN,IAAgB,CAAC,KAAI,CAAChD,OAA1B,EAAmC;EACjC;EACD;;EACDuE,QAAAA,IAAI,CACDG,WADH,CACe,KAAI,CAAC1B,MAAL,CAAYV,eAD3B,EAEGkB,QAFH,CAEe,KAAI,CAACR,MAAL,CAAYZ,aAF3B,SAE4C,KAAI,CAACY,MAAL,CAAYX,eAFxD,EAGGsC,MAHH,CAGU,EAHV;;EAKA,QAAA,KAAI,CAACC,gBAAL,CAAsB,KAAtB;;EAEAL,QAAAA,IAAI,CAACtE,OAAL,CAAayC,KAAK,CAACE,KAAnB;EACD,OAbD;;EAeA2B,MAAAA,IAAI,CACDI,MADH,CACU3E,OAAO,CAAC,CAAD,CAAP,CAAW8E,YADrB,EAEG3D,GAFH,CAEOvB,IAAI,CAACE,cAFZ,EAE4B+E,QAF5B,EAGGtD,sBAHH,CAG0BQ,mBAH1B;EAID,KA3IqB;;EAAA,WA6ItBqC,IA7IsB,iBA6IjBpE,OA7IiB,EA6IR;EAAA;;EACZ,UAAI,KAAKiD,aAAL,IAAsB,CAACpD,IAAC,CAACG,OAAD,CAAD,CAAWmE,QAAX,CAAoB,KAAKnB,MAAL,CAAYX,eAAhC,CAA3B,EAA6E;EAC3E;EACD;;EAED,UAAMkC,IAAI,GAAG1E,IAAC,CAACG,OAAD,CAAd;EAEA,UAAMwE,UAAU,GAAG3E,IAAC,CAAC6C,KAAF,CAAQA,KAAK,CAACG,IAAd,CAAnB;EACA0B,MAAAA,IAAI,CAACtE,OAAL,CAAauE,UAAb;;EAEA,UAAIA,UAAU,CAACC,kBAAX,EAAJ,EAAqC;EACnC;EACD;;EAEDF,MAAAA,IAAI,CAACT,MAAL,CAAY,KAAKd,MAAL,CAAYR,aAAxB,EAAuCkC,WAAvC,CAAmD,KAAK1B,MAAL,CAAYb,WAA/D,EAdY;;EAgBZoC,MAAAA,IAAI,CAACI,MAAL,CAAYJ,IAAI,CAACI,MAAL,EAAZ,EAA2B,CAA3B,EAA8BI,YAA9B;EAEAR,MAAAA,IAAI,CACDf,QADH,CACY,KAAKR,MAAL,CAAYV,eADxB,EAEGoC,WAFH,CAEe,KAAK1B,MAAL,CAAYZ,aAF3B,EAGGsC,WAHH,CAGe,KAAK1B,MAAL,CAAYX,eAH3B;EAKA,WAAKuC,gBAAL,CAAsB,IAAtB;;EAEA,UAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACrB;EACA,YAAI,CAAC,MAAI,CAAC7B,MAAN,IAAgB,CAAC,MAAI,CAAChD,OAA1B,EAAmC;EACjC;EACD;;EACD,YAAI,MAAI,CAACiD,aAAL,IAAsB,MAAI,CAACD,MAAL,CAAYgC,eAAtC,EAAuD;EACrD,UAAA,MAAI,CAAChC,MAAL,CAAYgC,eAAZ;EACD;;EAED,QAAA,MAAI,CAACJ,gBAAL,CAAsB,KAAtB;;EACAL,QAAAA,IAAI,CAACtE,OAAL,CAAayC,KAAK,CAACI,MAAnB;EAEAyB,QAAAA,IAAI,CACDG,WADH,CACe,MAAI,CAAC1B,MAAL,CAAYV,eAD3B,EAEGkB,QAFH,CAEY,MAAI,CAACR,MAAL,CAAYZ,aAFxB;EAGD,OAfD;;EAiBA,UAAImC,IAAI,CAACI,MAAL,OAAkB,CAAlB,IAAuBJ,IAAI,CAACU,GAAL,CAAS,SAAT,MAAwB,MAAnD,EAA2D;EACzDJ,QAAAA,QAAQ;EACT,OAFD,MAEO;EACLN,QAAAA,IAAI,CACDI,MADH,CACU,CADV,EAEGxD,GAFH,CAEOvB,IAAI,CAACE,cAFZ,EAE4B+E,QAF5B,EAGGtD,sBAHH,CAG0BQ,mBAH1B;EAID;EACF,KA/LqB;;EAAA,WAiMtB6C,gBAjMsB,6BAiMLM,eAjMK,EAiMY;EAChC,WAAKjC,aAAL,GAAqBiC,eAArB;EACD,KAnMqB;;EAAA,WAqMtBC,OArMsB,sBAqMZ;EACRtF,MAAAA,IAAC,CAACuF,UAAF,CAAa,KAAKpF,OAAlB,EAA2B2B,QAA3B;EAEA9B,MAAAA,IAAC,CAAC,KAAKG,OAAN,CAAD,CACGqD,IADH,CACQ,KAAKL,MAAL,CAAYR,aADpB,EAEGc,GAFH,CAEO,KAAKN,MAAL,CAAYP,OAFnB,EAGGc,QAHH,CAGY,KAAKP,MAAL,CAAYT,cAHxB,EAIG8C,GAJH,CAIO,OAJP;EAMA,WAAKpC,aAAL,GAAqB,IAArB;EACA,WAAKD,MAAL,GAAc,IAAd;EACA,WAAKhD,OAAL,GAAe,IAAf;EACD,KAjNqB;;EAAA,cAoNfsF,eApNe,4BAoNCtC,MApND,EAoNS;EAC7B;EACA,aAAO,KAAKuC,IAAL,CAAU,YAAY;EAC3B,YAAMC,KAAK,GAAG3F,IAAC,CAAC,IAAD,CAAf;EACA,YAAI4F,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAW9D,QAAX,CAAX;;EACA,YAAMyB,IAAI,qBACLpB,OADK,EAELwD,KAAK,CAACC,IAAN,EAFK,EAGL,OAAOzC,MAAP,KAAkB,QAAlB,IAA8BA,MAA9B,GAAuCA,MAAvC,GAAgD,EAH3C,CAAV;;EAMA,YAAI,CAACyC,IAAL,EAAW;EACTA,UAAAA,IAAI,GAAG,IAAIhE,SAAJ,CAAc,IAAd,EAAoB2B,IAApB,CAAP;EACAoC,UAAAA,KAAK,CAACC,IAAN,CAAW9D,QAAX,EAAqB8D,IAArB;EACD;;EAED,YAAI,OAAOzC,MAAP,KAAkB,QAAtB,EAAgC;EAC9B,cAAIyC,IAAI,CAACzC,MAAD,CAAJ,KAAiBjC,SAArB,EAAgC;EAC9B,kBAAM,IAAI2E,KAAJ,wBAA8B1C,MAA9B,QAAN;EACD;;EACDyC,UAAAA,IAAI,CAACzC,MAAD,CAAJ;EACD;EACF,OApBM,CAAP;EAqBD,KA3OqB;;EAAA;EAAA;EA6OxB;;;;;;;EAMAnD,EAAAA,IAAC,CAACyB,EAAF,CAAKI,IAAL,IAAaD,SAAS,CAAC6D,eAAvB,CAnPwB;;EAoPxBzF,EAAAA,IAAC,CAACyB,EAAF,CAAKI,IAAL,EAAWiE,WAAX,GAAyBlE,SAAzB,CApPwB;;EAqPxB5B,EAAAA,IAAC,CAACyB,EAAF,CAAKI,IAAL,EAAWkE,UAAX,GAAwB,YAAM;EAAE;EAC9B/F,IAAAA,IAAC,CAACyB,EAAF,CAAKI,IAAL,IAAaI,kBAAb,CAD4B;;EAE5B,WAAOL,SAAS,CAAC6D,eAAjB;EACD,GAHD;;EAIA,SAAO7D,SAAP;EACD,CA1PiB,CA0Pf5B,CA1Pe,CAAlB;;;;;;;;"}